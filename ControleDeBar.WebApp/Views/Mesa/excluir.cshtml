@using ControleDeBar.WebApp.Models
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model ControleDeBar.WebApp.Models.ExcluirMesaViewModel

@{
    var mesa = ViewBag.Mesa;
    Layout = "_Layout";
    ViewBag.Title = "Exclusão de Mesa";
}

<div class="row mt-3">
    <div class="col-lg-6 d-grid gap-2">
        <label class="fs-5"><strong>Mesa:</strong> @mesa.Numero</label>
        
        <label><strong>Id:</strong> [@mesa.Id]</label>
        <label><strong>Status:</strong> @mesa.Ocupada</label>
        
        @if (mesa.Contas.Any())
        {
            <div class="mt-3">
                <h5>Contas relacionadas à mesa:</h5>
                
                <ul>
                    @foreach (ListarContaMesaViewModel conta in mesa.Contas)
                    {
                        <li>@conta.Titular</li>
                    }
                </ul>
            </div>
        }
        
        <p class="text-bg-danger p-3 rounded fs-5 mt-2">
            Deseja realmente confirmar a exclusão? Não será possível recuperar os dados excluídos posteriormente.
        </p>

        <form class="mt-2 d-grid gap-2 d-md-block" asp-action="excluir">
            <button class="btn btn-danger px-5">
                <i class="bi bi-trash-fill me-1"></i>
                Excluir
            </button>
            
            <a class="btn btn-secondary px-5" href="/mesa/listar">
                <i class="bi bi-arrow-return-left me-1"></i>
                Voltar
            </a>

        </form>
    </div>
</div>
